var PORT = 6379;//var HOST = '120.25.254.164';var HOST = '127.0.0.1';var redis = require('redis');var chatClient = redis.createClient(PORT,HOST);var logger = require("./log").logger("redis");chatClient.on('error', function(err){	logger.error(err);});var chat_sadd = function(key, field) {	chatClient.sadd(key, field);	logger.info("redis sadd --> key : " + key + ", field : " + field);}var chat_srem = function(key, field) {	chatClient.srem(key, field);	logger.info("redis srem --> key : " + key + ", field : " + field);}var chat_smembers = function(key) {	return chatClient.smembers(key);}var chat_hset = function(key, userId, sockedId) {	chatClient.hset(key, userId, sockedId);	logger.info("redis hset --> key : " + key + ", field : " + userId + ", value :" + sockedId);} var chat_hget = function(key, userId) {	return chatClient.hget(key, userId);} var chat_hdel = function(key, field){	logger.info("删除redis");	chatClient.hdel(key, field);	logger.info("redis hset --> key : " + key + ", field : " + field);}var chat_rpush =  function(key, fromId, toId){	var final_key_id = "redis_chat_custom_";	key = final_key_id + toId;	chatClient.rpush(key, fromId);}exports.chatClient = chatClient;exports.chat_sadd = chat_sadd;exports.chat_srem = chat_srem;exports.chat_smembers = chat_smembers;exports.chat_hset = chat_hset;exports.chat_hget = chat_hget;exports.chat_hdel = chat_hdel;exports.redis = redis;